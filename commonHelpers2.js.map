{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const emailInput = document.querySelector(\n  'form.feedback-form input[name=\"email\"]'\n);\n\nconst messageInput = document.querySelector(\n  'form.feedback-form textarea[name=\"message\"]'\n);\n\nconst contactForm = document.querySelector('form.feedback-form');\n\ncontactForm.addEventListener('submit', function (e) {\n  e.preventDefault();\n  const data = JSON.parse(getFormState());\n\n  if (data.email === '' || data.message === '') {\n    alert('Please fill in all the fields!');\n    return;\n  } else {\n    alert(\n      `Thank you for your feedback! Email: ${data.email}, Message: ${data.message}`\n    );\n    initFormState();\n    emailInput.value = '';\n    messageInput.value = '';\n  }\n});\n\nfunction getFormState() {\n  return localStorage.getItem('feedback-form-state');\n}\n\nfunction initFormState() {\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      email: '',\n      message: '',\n    })\n  );\n}\n\nconst form = getFormState();\n\nif (form == null) {\n  initFormState();\n} else {\n  let formstate = JSON.parse(form);\n  emailInput.value = formstate.email;\n  messageInput.value = formstate.message;\n}\n\ncontactForm.addEventListener('input', e => {\n  if (e.target.name === 'email') {\n    saveEmail(e.target.value);\n  } else if (e.target.name === 'message') {\n    saveMessage(e.target.value);\n  }\n});\n\nfunction saveEmail(value) {\n  const form = JSON.parse(getFormState());\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      email: value,\n      message: form.message,\n    })\n  );\n}\n\nfunction saveMessage(value) {\n  const form = JSON.parse(getFormState());\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      message: value,\n      email: form.email,\n    })\n  );\n}\n"],"names":["emailInput","messageInput","contactForm","data","getFormState","initFormState","form","formstate","saveEmail","saveMessage","value"],"mappings":"oCAAA,MAAMA,EAAa,SAAS,cAC1B,wCACF,EAEMC,EAAe,SAAS,cAC5B,6CACF,EAEMC,EAAc,SAAS,cAAc,oBAAoB,EAE/DA,EAAY,iBAAiB,SAAU,SAAU,EAAG,CAClD,EAAE,eAAc,EAChB,MAAMC,EAAO,KAAK,MAAMC,EAAc,CAAA,EAEtC,GAAID,EAAK,QAAU,IAAMA,EAAK,UAAY,GAAI,CAC5C,MAAM,gCAAgC,EACtC,MACJ,MACI,MACE,uCAAuCA,EAAK,mBAAmBA,EAAK,SAC1E,EACIE,IACAL,EAAW,MAAQ,GACnBC,EAAa,MAAQ,EAEzB,CAAC,EAED,SAASG,GAAe,CACtB,OAAO,aAAa,QAAQ,qBAAqB,CACnD,CAEA,SAASC,GAAgB,CACvB,aAAa,QACX,sBACA,KAAK,UAAU,CACb,MAAO,GACP,QAAS,EACf,CAAK,CACL,CACA,CAEA,MAAMC,EAAOF,EAAY,EAEzB,GAAIE,GAAQ,KACVD,QACK,CACL,IAAIE,EAAY,KAAK,MAAMD,CAAI,EAC/BN,EAAW,MAAQO,EAAU,MAC7BN,EAAa,MAAQM,EAAU,OACjC,CAEAL,EAAY,iBAAiB,QAAS,GAAK,CACrC,EAAE,OAAO,OAAS,QACpBM,EAAU,EAAE,OAAO,KAAK,EACf,EAAE,OAAO,OAAS,WAC3BC,EAAY,EAAE,OAAO,KAAK,CAE9B,CAAC,EAED,SAASD,EAAUE,EAAO,CACxB,MAAMJ,EAAO,KAAK,MAAMF,EAAc,CAAA,EAEtC,aAAa,QACX,sBACA,KAAK,UAAU,CACb,MAAOM,EACP,QAASJ,EAAK,OACpB,CAAK,CACL,CACA,CAEA,SAASG,EAAYC,EAAO,CAC1B,MAAMJ,EAAO,KAAK,MAAMF,EAAc,CAAA,EACtC,aAAa,QACX,sBACA,KAAK,UAAU,CACb,QAASM,EACT,MAAOJ,EAAK,KAClB,CAAK,CACL,CACA"}